<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制 | Clark Lu's Blog 聆风的个人站点</title><meta name="author" content="Clark Lu"><meta name="copyright" content="Clark Lu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制前言GitHub Pages 是一个优秀的静态网站托管服务，但有一个限制：CNAME 文件只能包含一个域名。如果你有多个域名（如 clarklu.com 和 luzihang.com）想要指向同一个 GitHub Pages 网站，本文提供了完整的解决方案。 GitHub Pages 的 CNAME 限制为什么只能有一个域名？G">
<meta property="og:type" content="article">
<meta property="og:title" content="GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制">
<meta property="og:url" content="https://clarklu.com/p/bed38e11.html">
<meta property="og:site_name" content="Clark Lu&#39;s Blog 聆风的个人站点">
<meta property="og:description" content="GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制前言GitHub Pages 是一个优秀的静态网站托管服务，但有一个限制：CNAME 文件只能包含一个域名。如果你有多个域名（如 clarklu.com 和 luzihang.com）想要指向同一个 GitHub Pages 网站，本文提供了完整的解决方案。 GitHub Pages 的 CNAME 限制为什么只能有一个域名？G">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://clarklu.com/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-11-20T02:00:00.000Z">
<meta property="article:modified_time" content="2025-11-20T11:27:51.749Z">
<meta property="article:author" content="Clark Lu">
<meta property="article:tag" content="GitHub Pages">
<meta property="article:tag" content="多域名绑定">
<meta property="article:tag" content="Cloudflare">
<meta property="article:tag" content="DNS配置">
<meta property="article:tag" content="SEO">
<meta property="article:tag" content="域名配置">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://clarklu.com/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制",
  "url": "https://clarklu.com/p/bed38e11.html",
  "image": "https://clarklu.com/img/butterfly-icon.png",
  "datePublished": "2025-11-20T02:00:00.000Z",
  "dateModified": "2025-11-20T11:27:51.749Z",
  "author": [
    {
      "@type": "Person",
      "name": "Clark Lu",
      "url": "https://clarklu.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://clarklu.com/p/bed38e11.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Clark Lu's Blog 聆风的个人站点" type="application/atom+xml">
</head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Clark Lu's Blog 聆风的个人站点</span></a><a class="nav-page-title" href="/"><span class="site-name">GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-11-20T02:00:00.000Z" title="发表于 2025-11-20 10:00:00">2025-11-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-11-20T11:27:51.749Z" title="更新于 2025-11-20 19:27:51">2025-11-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E3%80%8C%E5%8E%9F%E5%88%9B%E5%88%86%E4%BA%AB%E3%80%8D/">「原创分享」</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="GitHub-Pages-多域名绑定指南：突破-CNAME-单域名限制"><a href="#GitHub-Pages-多域名绑定指南：突破-CNAME-单域名限制" class="headerlink" title="GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制"></a>GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>GitHub Pages 是一个优秀的静态网站托管服务，但有一个限制：<strong>CNAME 文件只能包含一个域名</strong>。如果你有多个域名（如 <code>clarklu.com</code> 和 <code>luzihang.com</code>）想要指向同一个 GitHub Pages 网站，本文提供了完整的解决方案。</p>
<h2 id="GitHub-Pages-的-CNAME-限制"><a href="#GitHub-Pages-的-CNAME-限制" class="headerlink" title="GitHub Pages 的 CNAME 限制"></a>GitHub Pages 的 CNAME 限制</h2><h3 id="为什么只能有一个域名？"><a href="#为什么只能有一个域名？" class="headerlink" title="为什么只能有一个域名？"></a>为什么只能有一个域名？</h3><p>GitHub Pages 使用 <code>CNAME</code> 文件来指定自定义域名。这个文件位于仓库的根目录或 <code>source/</code> 目录（如果使用 Hexo 等静态网站生成器），内容格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clarklu.com</span><br></pre></td></tr></table></figure>

<p><strong>限制</strong>：CNAME 文件只能包含一个域名，不能同时写多个域名。</p>
<h3 id="实际需求场景"><a href="#实际需求场景" class="headerlink" title="实际需求场景"></a>实际需求场景</h3><p>假设你有以下域名：</p>
<ul>
<li><strong>主域名</strong>：<code>clarklu.com</code>（用于 SEO 和主要访问）</li>
<li><strong>次要域名</strong>：<code>luzihang.com</code>（也想指向同一个网站）</li>
</ul>
<p><strong>目标</strong>：</p>
<ol>
<li>让两个域名都能访问同一个 GitHub Pages 网站</li>
<li>通过 DNS 配置实现多域名绑定</li>
<li>可选：使用 301 重定向统一 SEO（推荐）</li>
</ol>
<h2 id="解决方案：通过-DNS-配置多域名绑定"><a href="#解决方案：通过-DNS-配置多域名绑定" class="headerlink" title="解决方案：通过 DNS 配置多域名绑定"></a>解决方案：通过 DNS 配置多域名绑定</h2><h3 id="核心思路"><a href="#核心思路" class="headerlink" title="核心思路"></a>核心思路</h3><p>虽然 GitHub Pages 的 CNAME 文件只能写一个域名，但我们可以：</p>
<ol>
<li><strong>CNAME 文件</strong>：只写主域名（如 <code>clarklu.com</code>）</li>
<li><strong>DNS 配置</strong>：让多个域名都通过 CNAME 记录指向 <code>luzihang123.github.io</code></li>
<li><strong>Cloudflare 重定向</strong>（可选）：将次要域名 301 重定向到主域名，优化 SEO</li>
</ol>
<h3 id="方案架构图"><a href="#方案架构图" class="headerlink" title="方案架构图"></a>方案架构图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">clarklu.com (主域名)</span><br><span class="line">  ├── CNAME 文件: clarklu.com</span><br><span class="line">  ├── DNS: CNAME → luzihang123.github.io</span><br><span class="line">  └── GitHub Pages 正常服务</span><br><span class="line"></span><br><span class="line">luzihang.com (次要域名)</span><br><span class="line">  ├── DNS: CNAME → luzihang123.github.io</span><br><span class="line">  ├── 选项 A: 直接访问（两个域名都可用）</span><br><span class="line">  └── 选项 B: 301 重定向到 clarklu.com（推荐，SEO 优化）</span><br></pre></td></tr></table></figure>

<h2 id="步骤一：配置-GitHub-Pages-CNAME-文件"><a href="#步骤一：配置-GitHub-Pages-CNAME-文件" class="headerlink" title="步骤一：配置 GitHub Pages CNAME 文件"></a>步骤一：配置 GitHub Pages CNAME 文件</h2><h3 id="1-在-Hexo-项目中创建-CNAME-文件"><a href="#1-在-Hexo-项目中创建-CNAME-文件" class="headerlink" title="1. 在 Hexo 项目中创建 CNAME 文件"></a>1. 在 Hexo 项目中创建 CNAME 文件</h3><p>如果你使用 Hexo，在 <code>source/</code> 目录创建 <code>CNAME</code> 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /path/to/your/hexo/site</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;clarklu.com&quot;</span> &gt; <span class="built_in">source</span>/CNAME</span><br></pre></td></tr></table></figure>

<h3 id="2-在-GitHub-仓库中验证"><a href="#2-在-GitHub-仓库中验证" class="headerlink" title="2. 在 GitHub 仓库中验证"></a>2. 在 GitHub 仓库中验证</h3><p>部署后，在 GitHub 仓库中应该能看到 <code>CNAME</code> 文件，内容为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clarklu.com</span><br></pre></td></tr></table></figure>

<h3 id="3-在-GitHub-Pages-设置中验证"><a href="#3-在-GitHub-Pages-设置中验证" class="headerlink" title="3. 在 GitHub Pages 设置中验证"></a>3. 在 GitHub Pages 设置中验证</h3><ol>
<li>访问：<code>https://github.com/username/luzihang123.github.io/settings/pages</code></li>
<li>在 <strong>Custom domain</strong> 部分应该显示 <code>clarklu.com</code></li>
<li>确保 <strong>Enforce HTTPS</strong> 已启用</li>
</ol>
<h2 id="步骤二：配置-DNS-让多个域名指向-GitHub-Pages"><a href="#步骤二：配置-DNS-让多个域名指向-GitHub-Pages" class="headerlink" title="步骤二：配置 DNS 让多个域名指向 GitHub Pages"></a>步骤二：配置 DNS 让多个域名指向 GitHub Pages</h2><h3 id="在-Cloudflare-中配置-DNS"><a href="#在-Cloudflare-中配置-DNS" class="headerlink" title="在 Cloudflare 中配置 DNS"></a>在 Cloudflare 中配置 DNS</h3><h4 id="1-主域名（clarklu-com）DNS-配置"><a href="#1-主域名（clarklu-com）DNS-配置" class="headerlink" title="1. 主域名（clarklu.com）DNS 配置"></a>1. 主域名（clarklu.com）DNS 配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">类型: CNAME</span><br><span class="line">名称: @ (或 clarklu.com)</span><br><span class="line">目标: luzihang123.github.io</span><br><span class="line">代理状态: 已代理（橙色云朵）</span><br><span class="line">TTL: Auto</span><br></pre></td></tr></table></figure>

<h4 id="2-次要域名（luzihang-com）DNS-配置"><a href="#2-次要域名（luzihang-com）DNS-配置" class="headerlink" title="2. 次要域名（luzihang.com）DNS 配置"></a>2. 次要域名（luzihang.com）DNS 配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">类型: CNAME</span><br><span class="line">名称: @ (或 luzihang.com)</span><br><span class="line">目标: luzihang123.github.io</span><br><span class="line">代理状态: 已代理（橙色云朵）</span><br><span class="line">TTL: Auto</span><br></pre></td></tr></table></figure>

<p><strong>重要</strong>：两个域名都指向同一个 GitHub Pages 地址，但只有主域名在 CNAME 文件中。</p>
<h3 id="配置结果"><a href="#配置结果" class="headerlink" title="配置结果"></a>配置结果</h3><p>配置完成后：</p>
<ul>
<li>✅ <code>clarklu.com</code> → 可以正常访问（CNAME 文件中的域名）</li>
<li>✅ <code>luzihang.com</code> → 也可以访问（通过 DNS CNAME 指向）</li>
<li>⚠️ 两个域名显示相同内容，可能影响 SEO（重复内容）</li>
</ul>
<h2 id="步骤三：SEO-优化-使用-301-重定向（推荐）"><a href="#步骤三：SEO-优化-使用-301-重定向（推荐）" class="headerlink" title="步骤三：SEO 优化 - 使用 301 重定向（推荐）"></a>步骤三：SEO 优化 - 使用 301 重定向（推荐）</h2><p>为了避免重复内容影响 SEO，建议将次要域名通过 301 重定向指向主域名。这样可以将 SEO 权重集中到主域名，同时避免搜索引擎将两个域名视为重复内容。</p>
<h3 id="为什么需要-301-重定向？"><a href="#为什么需要-301-重定向？" class="headerlink" title="为什么需要 301 重定向？"></a>为什么需要 301 重定向？</h3><ol>
<li><strong>传递 SEO 权重</strong>：301 重定向会将原域名的 SEO 权重传递给目标域名</li>
<li><strong>避免重复内容</strong>：防止搜索引擎将两个域名视为重复内容</li>
<li><strong>统一流量</strong>：将所有流量集中到主域名，提高主域名的排名</li>
</ol>
<h3 id="方案一：使用-Cloudflare-页面规则（Page-Rules）-推荐"><a href="#方案一：使用-Cloudflare-页面规则（Page-Rules）-推荐" class="headerlink" title="方案一：使用 Cloudflare 页面规则（Page Rules）- 推荐"></a>方案一：使用 Cloudflare 页面规则（Page Rules）- 推荐</h3><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>✅ 配置简单直观</li>
<li>✅ 免费计划支持（最多 3 条规则）</li>
<li>✅ 语法简单，使用 <code>$1</code> 自动处理路径和查询字符串</li>
<li>✅ 稳定可靠，兼容性好</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>❌ 免费计划规则数量有限（3 条）</li>
<li>❌ 功能相对简单，不支持复杂逻辑</li>
</ul>
<h3 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h3><h4 id="1-进入页面规则设置"><a href="#1-进入页面规则设置" class="headerlink" title="1. 进入页面规则设置"></a>1. 进入页面规则设置</h4><ol>
<li>登录 <a target="_blank" rel="noopener" href="https://dash.cloudflare.com/">Cloudflare 控制台</a></li>
<li>选择需要配置的域名（如 <code>luzihang.com</code>）</li>
<li>左侧菜单：<strong>规则</strong> → <strong>页面规则</strong>（Rules → Page Rules）</li>
<li>点击 <strong>创建页面规则</strong>（Create Page Rule）</li>
</ol>
<h4 id="2-配置重定向规则"><a href="#2-配置重定向规则" class="headerlink" title="2. 配置重定向规则"></a>2. 配置重定向规则</h4><p><strong>规则 1：主域名重定向</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">URL 匹配模式: luzihang.com/*</span><br><span class="line">设置:</span><br><span class="line">  - 转发 URL（Forwarding URL）</span><br><span class="line">  - 301 永久重定向（301 - Permanent Redirect）</span><br><span class="line">  - 目标 URL: https://clarklu.com/$1</span><br></pre></td></tr></table></figure>

<p><strong>规则 2：www 子域名重定向（可选）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">URL 匹配模式: www.luzihang.com/*</span><br><span class="line">设置:</span><br><span class="line">  - 转发 URL</span><br><span class="line">  - 301 永久重定向</span><br><span class="line">  - 目标 URL: https://clarklu.com/$1</span><br></pre></td></tr></table></figure>

<h4 id="3-保存并部署"><a href="#3-保存并部署" class="headerlink" title="3. 保存并部署"></a>3. 保存并部署</h4><p>点击 <strong>保存并部署</strong>（Save and Deploy），规则通常在几分钟内生效。</p>
<h3 id="配置示例截图说明"><a href="#配置示例截图说明" class="headerlink" title="配置示例截图说明"></a>配置示例截图说明</h3><ul>
<li><strong>URL 模式</strong>：使用通配符 <code>luzihang.com/*</code> 匹配所有路径</li>
<li><strong>目标 URL</strong>：<code>https://clarklu.com/$1</code>，其中 <code>$1</code> 会自动替换为原始路径和查询参数</li>
<li><strong>状态码</strong>：选择 <code>301</code> 永久重定向，有利于 SEO</li>
</ul>
<h3 id="测试验证"><a href="#测试验证" class="headerlink" title="测试验证"></a>测试验证</h3><p>配置完成后，测试以下 URL：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试根域名</span></span><br><span class="line">curl -I https://luzihang.com</span><br><span class="line"><span class="comment"># 应该返回: HTTP/1.1 301 Moved Permanently</span></span><br><span class="line"><span class="comment"># Location: https://clarklu.com/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试带路径的 URL</span></span><br><span class="line">curl -I https://luzihang.com/about</span><br><span class="line"><span class="comment"># 应该返回: HTTP/1.1 301 Moved Permanently</span></span><br><span class="line"><span class="comment"># Location: https://clarklu.com/about</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试带查询参数的 URL</span></span><br><span class="line">curl -I <span class="string">&quot;https://luzihang.com/page?param=1&quot;</span></span><br><span class="line"><span class="comment"># 应该返回: HTTP/1.1 301 Moved Permanently</span></span><br><span class="line"><span class="comment"># Location: https://clarklu.com/page?param=1</span></span><br></pre></td></tr></table></figure>

<h3 id="方案二：使用-Cloudflare-重定向规则（Redirect-Rules）"><a href="#方案二：使用-Cloudflare-重定向规则（Redirect-Rules）" class="headerlink" title="方案二：使用 Cloudflare 重定向规则（Redirect Rules）"></a>方案二：使用 Cloudflare 重定向规则（Redirect Rules）</h3><h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><ul>
<li>✅ 功能更强大，支持复杂表达式</li>
<li>✅ 可以设置多个匹配条件</li>
<li>✅ 支持 OR&#x2F;AND 逻辑组合</li>
<li>✅ 付费计划支持更多规则</li>
</ul>
<h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>❌ 表达式语法复杂，容易出错</li>
<li>❌ 免费计划可能不支持复杂表达式</li>
<li>❌ 配置相对复杂</li>
</ul>
<h3 id="配置步骤-1"><a href="#配置步骤-1" class="headerlink" title="配置步骤"></a>配置步骤</h3><h4 id="1-进入重定向规则设置"><a href="#1-进入重定向规则设置" class="headerlink" title="1. 进入重定向规则设置"></a>1. 进入重定向规则设置</h4><ol>
<li>登录 Cloudflare 控制台</li>
<li>选择域名 <code>luzihang.com</code></li>
<li>左侧菜单：<strong>规则</strong> → <strong>重定向规则</strong>（Rules → Redirect Rules）</li>
<li>点击 <strong>创建规则</strong>（Create Rule）</li>
</ol>
<h4 id="2-配置匹配条件"><a href="#2-配置匹配条件" class="headerlink" title="2. 配置匹配条件"></a>2. 配置匹配条件</h4><p><strong>方式一：使用通配符模式</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">匹配类型: 通配符模式（Wildcard pattern）</span><br><span class="line">URL 模式: luzihang.net/*</span><br></pre></td></tr></table></figure>

<p><strong>方式二：使用自定义筛选表达式（推荐）</strong></p>
<p>选择 <strong>自定义筛选表达式</strong>（Custom filter expression），然后配置匹配条件：</p>
<p><strong>条件 1：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">字段: 主机名（Hostname）</span><br><span class="line">运算符: 等于（Equals）</span><br><span class="line">值: luzihang.net</span><br></pre></td></tr></table></figure>

<p>点击 <strong>Or</strong> 按钮添加第二个条件：</p>
<p><strong>条件 2：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">字段: 主机名（Hostname）</span><br><span class="line">运算符: 等于（Equals）</span><br><span class="line">值: www.luzihang.net</span><br></pre></td></tr></table></figure>

<p><strong>表达式预览</strong>应该自动显示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(http.host eq &quot;luzihang.net&quot;) or (http.host eq &quot;www.luzihang.net&quot;)</span><br></pre></td></tr></table></figure>

<p>如果需要编辑表达式，可以点击 <strong>编辑表达式</strong>（Edit expression）链接手动修改。</p>
<h4 id="3-配置重定向操作"><a href="#3-配置重定向操作" class="headerlink" title="3. 配置重定向操作"></a>3. 配置重定向操作</h4><p>在 <strong>则…</strong>（Then…）部分，配置 URL 重定向：</p>
<p><strong>推荐配置：使用动态重定向保留路径</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">类型: 动态（Dynamic）</span><br><span class="line">表达式: concat(&quot;https://clarklu.com&quot;, http.request.uri.path)</span><br><span class="line">状态代码: 301</span><br><span class="line">保留查询字符串: ✅ 勾选</span><br></pre></td></tr></table></figure>

<p><strong>表达式说明</strong>：</p>
<ul>
<li><code>concat()</code> 函数用于拼接字符串</li>
<li><code>&quot;https://clarklu.com&quot;</code> 是目标域名</li>
<li><code>http.request.uri.path</code> 是原始请求的路径部分</li>
<li>勾选 <strong>保留查询字符串</strong> 后，查询参数会自动保留</li>
</ul>
<p><strong>完整表达式示例</strong>：</p>
<p>如果还需要手动处理查询字符串（可选，通常不需要）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">concat(&quot;https://clarklu.com&quot;, http.request.uri.path, if(len(http.request.uri.query) &gt; 0, concat(&quot;?&quot;, http.request.uri.query), &quot;&quot;))</span><br></pre></td></tr></table></figure>

<p>但通常使用 <code>concat(&quot;https://clarklu.com&quot;, http.request.uri.path)</code> 并勾选 <strong>保留查询字符串</strong> 就足够了。</p>
<p><strong>配置截图说明</strong>：</p>
<ul>
<li><strong>匹配条件</strong>：使用 OR 连接两个主机名条件</li>
<li><strong>重定向类型</strong>：选择 <strong>动态</strong>（Dynamic）</li>
<li><strong>表达式</strong>：<code>concat(&quot;https://clarklu.com&quot;, http.request.uri.path)</code></li>
<li><strong>状态代码</strong>：选择 <code>301</code> 永久重定向</li>
<li><strong>保留查询字符串</strong>：勾选此选项</li>
</ul>
<h4 id="4-保存并部署"><a href="#4-保存并部署" class="headerlink" title="4. 保存并部署"></a>4. 保存并部署</h4><p>配置完成后，点击 <strong>部署</strong>（Deploy）按钮保存规则。规则通常在几分钟内生效。</p>
<h3 id="配置示例说明"><a href="#配置示例说明" class="headerlink" title="配置示例说明"></a>配置示例说明</h3><p>根据实际配置截图，完整的重定向规则配置如下：</p>
<p><strong>规则名称</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Redirect luzihang.net to clarklu.com</span><br></pre></td></tr></table></figure>

<p><strong>匹配条件</strong>：</p>
<ul>
<li>使用自定义筛选表达式</li>
<li>条件：<code>(http.host eq &quot;luzihang.net&quot;) or (http.host eq &quot;www.luzihang.net&quot;)</code></li>
</ul>
<p><strong>重定向操作</strong>：</p>
<ul>
<li>类型：动态（Dynamic）</li>
<li>表达式：<code>concat(&quot;https://clarklu.com&quot;, http.request.uri.path)</code></li>
<li>状态代码：301</li>
<li>保留查询字符串：已勾选</li>
</ul>
<h3 id="测试验证-1"><a href="#测试验证-1" class="headerlink" title="测试验证"></a>测试验证</h3><p>配置完成后，测试以下 URL：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试根域名</span></span><br><span class="line">curl -I https://luzihang.net</span><br><span class="line"><span class="comment"># 应该返回: HTTP/1.1 301 Moved Permanently</span></span><br><span class="line"><span class="comment"># Location: https://clarklu.com/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试带路径的 URL</span></span><br><span class="line">curl -I https://luzihang.net/about</span><br><span class="line"><span class="comment"># 应该返回: HTTP/1.1 301 Moved Permanently</span></span><br><span class="line"><span class="comment"># Location: https://clarklu.com/about</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试带查询参数的 URL</span></span><br><span class="line">curl -I <span class="string">&quot;https://luzihang.net/page?param=1&quot;</span></span><br><span class="line"><span class="comment"># 应该返回: HTTP/1.1 301 Moved Permanently</span></span><br><span class="line"><span class="comment"># Location: https://clarklu.com/page?param=1</span></span><br></pre></td></tr></table></figure>

<h3 id="常见错误及解决方案"><a href="#常见错误及解决方案" class="headerlink" title="常见错误及解决方案"></a>常见错误及解决方案</h3><h4 id="错误-1：表达式语法错误"><a href="#错误-1：表达式语法错误" class="headerlink" title="错误 1：表达式语法错误"></a>错误 1：表达式语法错误</h4><p>如果使用复杂的表达式可能遇到错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">错误信息: &#x27;clarklu.com&#x27; is not a valid value for target_url because could not parse filter value expression</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：</p>
<ul>
<li>使用推荐的表达式：<code>concat(&quot;https://clarklu.com&quot;, http.request.uri.path)</code></li>
<li>确保使用 <code>http.request.uri.path</code> 而不是 <code>$&#123;uri.path&#125;</code> 或其他语法</li>
<li>勾选 <strong>保留查询字符串</strong> 选项，而不是在表达式中手动处理</li>
</ul>
<h4 id="错误-2：unknown-identifier"><a href="#错误-2：unknown-identifier" class="headerlink" title="错误 2：unknown identifier"></a>错误 2：unknown identifier</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">错误信息: Filter parsing error: unknown identifier</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：</p>
<ul>
<li>检查变量名是否正确（使用 <code>http.host</code> 而不是 <code>host</code>）</li>
<li>使用 <code>http.request.uri.path</code> 而不是 <code>uri.path</code></li>
<li>确保表达式语法正确，使用 <code>concat()</code> 函数</li>
</ul>
<h2 id="完整配置检查清单"><a href="#完整配置检查清单" class="headerlink" title="完整配置检查清单"></a>完整配置检查清单</h2><p>在开始配置前，确保以下准备工作已完成：</p>
<ul>
<li><input disabled="" type="checkbox"> GitHub Pages 仓库已创建并可以正常访问</li>
<li><input disabled="" type="checkbox"> 两个域名都已添加到 Cloudflare</li>
<li><input disabled="" type="checkbox"> DNS 记录：两个域名都配置了 CNAME 指向 <code>luzihang123.github.io</code></li>
<li><input disabled="" type="checkbox"> SSL&#x2F;TLS：两个域名都设置为 Full 或 Full (strict)</li>
<li><input disabled="" type="checkbox"> CNAME 文件：只包含主域名（如 <code>clarklu.com</code>）</li>
</ul>
<h3 id="配置步骤检查清单"><a href="#配置步骤检查清单" class="headerlink" title="配置步骤检查清单"></a>配置步骤检查清单</h3><ul>
<li><input disabled="" type="checkbox"> 步骤一：在 GitHub Pages 中配置 CNAME 文件（主域名）</li>
<li><input disabled="" type="checkbox"> 步骤二：在 Cloudflare 中配置两个域名的 DNS 记录</li>
<li><input disabled="" type="checkbox"> 步骤三：配置 301 重定向（可选，但推荐用于 SEO）</li>
<li><input disabled="" type="checkbox"> 测试验证：所有 URL 正确重定向</li>
<li><input disabled="" type="checkbox"> Google Search Console：添加两个域名并设置首选域名</li>
</ul>
<h2 id="SEO-最佳实践"><a href="#SEO-最佳实践" class="headerlink" title="SEO 最佳实践"></a>SEO 最佳实践</h2><ol>
<li><strong>选择主域名</strong>：确定一个主域名用于 SEO（如 <code>clarklu.com</code>）</li>
<li><strong>使用 301 重定向</strong>：不要使用 302 临时重定向</li>
<li><strong>保留路径和参数</strong>：确保用户体验，保留原始 URL 的路径</li>
<li><strong>在 Google Search Console 中设置</strong>：<ul>
<li>添加两个域名</li>
<li>设置首选域名为主域名</li>
<li>提交两个域名的 sitemap</li>
</ul>
</li>
</ol>
<h3 id="Google-Search-Console-配置"><a href="#Google-Search-Console-配置" class="headerlink" title="Google Search Console 配置"></a>Google Search Console 配置</h3><ol>
<li>访问 <a target="_blank" rel="noopener" href="https://search.google.com/search-console">Google Search Console</a></li>
<li>添加属性：<code>clarklu.com</code>（主域名）</li>
<li>添加属性：<code>luzihang.com</code>（验证所有权）</li>
<li>在设置中指定首选域名为 <code>clarklu.com</code></li>
</ol>
<h2 id="重定向方案对比"><a href="#重定向方案对比" class="headerlink" title="重定向方案对比"></a>重定向方案对比</h2><table>
<thead>
<tr>
<th>特性</th>
<th>页面规则（方案一）</th>
<th>重定向规则（方案二）</th>
</tr>
</thead>
<tbody><tr>
<td><strong>配置难度</strong></td>
<td>⭐ 简单</td>
<td>⭐⭐⭐ 复杂</td>
</tr>
<tr>
<td><strong>免费计划支持</strong></td>
<td>✅ 支持（3条规则）</td>
<td>⚠️ 功能有限</td>
</tr>
<tr>
<td><strong>保留路径</strong></td>
<td>✅ 自动（使用 $1）</td>
<td>✅ 支持（使用 concat 表达式）</td>
</tr>
<tr>
<td><strong>稳定性</strong></td>
<td>✅ 非常稳定</td>
<td>✅ 稳定（表达式正确时）</td>
</tr>
<tr>
<td><strong>推荐度</strong></td>
<td>⭐⭐⭐⭐⭐</td>
<td>⭐⭐⭐⭐</td>
</tr>
</tbody></table>
<h3 id="推荐方案"><a href="#推荐方案" class="headerlink" title="推荐方案"></a>推荐方案</h3><p><strong>对于大多数用户，推荐使用方案一（页面规则）</strong>，原因：</p>
<ol>
<li>✅ 配置简单，不容易出错</li>
<li>✅ 免费计划完全支持</li>
<li>✅ 自动处理路径和查询参数</li>
<li>✅ 稳定可靠</li>
</ol>
<p><strong>方案二（重定向规则）适合需要更精细控制或使用自定义筛选表达式的场景</strong>。使用正确的表达式语法 <code>concat(&quot;https://clarklu.com&quot;, http.request.uri.path)</code> 可以稳定工作。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>虽然 GitHub Pages 的 CNAME 文件只能包含一个域名，但通过 DNS 配置和 Cloudflare 重定向规则，我们可以轻松实现多域名绑定：</p>
<ol>
<li><strong>CNAME 文件</strong>：只写主域名（如 <code>clarklu.com</code>）</li>
<li><strong>DNS 配置</strong>：让多个域名都通过 CNAME 记录指向 <code>luzihang123.github.io</code></li>
<li><strong>301 重定向</strong>（推荐）：将次要域名重定向到主域名，优化 SEO</li>
</ol>
<p>这样既满足了多域名访问的需求，又避免了 SEO 重复内容的问题。对于大多数用户，<strong>使用 Cloudflare 页面规则实现 301 重定向是最简单可靠的选择</strong>。</p>
<hr>
<h2 id="相关资源"><a href="#相关资源" class="headerlink" title="相关资源"></a>相关资源</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site">GitHub Pages 自定义域名文档</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.cloudflare.com/rules/page-rules/">Cloudflare 页面规则文档</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.cloudflare.com/rules/redirect-rules/">Cloudflare 重定向规则文档</a></li>
<li><a target="_blank" rel="noopener" href="https://search.google.com/search-console">Google Search Console</a></li>
</ul>
<p><strong>标签</strong>：#GitHub Pages #多域名绑定 #Cloudflare #DNS配置 #SEO #301重定向</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://clarklu.com">Clark Lu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://clarklu.com/p/bed38e11.html">https://clarklu.com/p/bed38e11.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://clarklu.com" target="_blank">Clark Lu's Blog 聆风的个人站点</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/GitHub-Pages/">GitHub Pages</a><a class="post-meta__tags" href="/tags/%E5%A4%9A%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/">多域名绑定</a><a class="post-meta__tags" href="/tags/Cloudflare/">Cloudflare</a><a class="post-meta__tags" href="/tags/DNS%E9%85%8D%E7%BD%AE/">DNS配置</a><a class="post-meta__tags" href="/tags/SEO/">SEO</a><a class="post-meta__tags" href="/tags/%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/">域名配置</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/p/4a17b156.html" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a><a class="pagination-related" href="/p/79c3476.html" title="spalsh，单独使用（不使用scrapy框架），如何设置Proxy IP "><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">spalsh，单独使用（不使用scrapy框架），如何设置Proxy IP </div></div><div class="info-2"><div class="info-item-1">场景有些场景，为了方便、高效，需要脱离scrapy框架使用spalsh 配置代理：隧道代理为佳 在宿主机上找个位置，新建文件/root/splash/proxy-files/cip.ini 注意：区别于官方文档，ini应该为小写 1234567891011121314151617181920212223[proxy]; requiredhost=你的配置port=你的配置; optional, default is no authusername=你的配置password=你的配置; optional, default is HTTP. Allowed values are HTTP and SOCKS5type=HTTP[rules]; optional, default &quot;.*&quot;whitelist=    .*cip.cc.*; optional, default is no blacklistblacklist=    .*.js.*    .*.css.*    .*.png  docker启动spalsh1234[root@host proxy-fi...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Clark Lu</div><div class="author-info-description">记录点东西</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#GitHub-Pages-%E5%A4%9A%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A%E6%8C%87%E5%8D%97%EF%BC%9A%E7%AA%81%E7%A0%B4-CNAME-%E5%8D%95%E5%9F%9F%E5%90%8D%E9%99%90%E5%88%B6"><span class="toc-number">1.</span> <span class="toc-text">GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GitHub-Pages-%E7%9A%84-CNAME-%E9%99%90%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">GitHub Pages 的 CNAME 限制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AA%E8%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%9F%9F%E5%90%8D%EF%BC%9F"><span class="toc-number">1.2.1.</span> <span class="toc-text">为什么只能有一个域名？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E9%9C%80%E6%B1%82%E5%9C%BA%E6%99%AF"><span class="toc-number">1.2.2.</span> <span class="toc-text">实际需求场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A%E9%80%9A%E8%BF%87-DNS-%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A"><span class="toc-number">1.3.</span> <span class="toc-text">解决方案：通过 DNS 配置多域名绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.1.</span> <span class="toc-text">核心思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">1.3.2.</span> <span class="toc-text">方案架构图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%E4%B8%80%EF%BC%9A%E9%85%8D%E7%BD%AE-GitHub-Pages-CNAME-%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">步骤一：配置 GitHub Pages CNAME 文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9C%A8-Hexo-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%88%9B%E5%BB%BA-CNAME-%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. 在 Hexo 项目中创建 CNAME 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9C%A8-GitHub-%E4%BB%93%E5%BA%93%E4%B8%AD%E9%AA%8C%E8%AF%81"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. 在 GitHub 仓库中验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%9C%A8-GitHub-Pages-%E8%AE%BE%E7%BD%AE%E4%B8%AD%E9%AA%8C%E8%AF%81"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. 在 GitHub Pages 设置中验证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%E4%BA%8C%EF%BC%9A%E9%85%8D%E7%BD%AE-DNS-%E8%AE%A9%E5%A4%9A%E4%B8%AA%E5%9F%9F%E5%90%8D%E6%8C%87%E5%90%91-GitHub-Pages"><span class="toc-number">1.5.</span> <span class="toc-text">步骤二：配置 DNS 让多个域名指向 GitHub Pages</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-Cloudflare-%E4%B8%AD%E9%85%8D%E7%BD%AE-DNS"><span class="toc-number">1.5.1.</span> <span class="toc-text">在 Cloudflare 中配置 DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%BB%E5%9F%9F%E5%90%8D%EF%BC%88clarklu-com%EF%BC%89DNS-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">1. 主域名（clarklu.com）DNS 配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%AC%A1%E8%A6%81%E5%9F%9F%E5%90%8D%EF%BC%88luzihang-com%EF%BC%89DNS-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">2. 次要域名（luzihang.com）DNS 配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%BB%93%E6%9E%9C"><span class="toc-number">1.5.2.</span> <span class="toc-text">配置结果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%E4%B8%89%EF%BC%9ASEO-%E4%BC%98%E5%8C%96-%E4%BD%BF%E7%94%A8-301-%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.6.</span> <span class="toc-text">步骤三：SEO 优化 - 使用 301 重定向（推荐）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-301-%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%9F"><span class="toc-number">1.6.1.</span> <span class="toc-text">为什么需要 301 重定向？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8-Cloudflare-%E9%A1%B5%E9%9D%A2%E8%A7%84%E5%88%99%EF%BC%88Page-Rules%EF%BC%89-%E6%8E%A8%E8%8D%90"><span class="toc-number">1.6.2.</span> <span class="toc-text">方案一：使用 Cloudflare 页面规则（Page Rules）- 推荐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">1.6.3.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">1.6.4.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.6.5.</span> <span class="toc-text">配置步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BF%9B%E5%85%A5%E9%A1%B5%E9%9D%A2%E8%A7%84%E5%88%99%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">1. 进入页面规则设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AE%E9%87%8D%E5%AE%9A%E5%90%91%E8%A7%84%E5%88%99"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">2. 配置重定向规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BF%9D%E5%AD%98%E5%B9%B6%E9%83%A8%E7%BD%B2"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">3. 保存并部署</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B%E6%88%AA%E5%9B%BE%E8%AF%B4%E6%98%8E"><span class="toc-number">1.6.6.</span> <span class="toc-text">配置示例截图说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E9%AA%8C%E8%AF%81"><span class="toc-number">1.6.7.</span> <span class="toc-text">测试验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8-Cloudflare-%E9%87%8D%E5%AE%9A%E5%90%91%E8%A7%84%E5%88%99%EF%BC%88Redirect-Rules%EF%BC%89"><span class="toc-number">1.6.8.</span> <span class="toc-text">方案二：使用 Cloudflare 重定向规则（Redirect Rules）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-1"><span class="toc-number">1.6.9.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-1"><span class="toc-number">1.6.10.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4-1"><span class="toc-number">1.6.11.</span> <span class="toc-text">配置步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BF%9B%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91%E8%A7%84%E5%88%99%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.6.11.1.</span> <span class="toc-text">1. 进入重定向规则设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AE%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.6.11.2.</span> <span class="toc-text">2. 配置匹配条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%85%8D%E7%BD%AE%E9%87%8D%E5%AE%9A%E5%90%91%E6%93%8D%E4%BD%9C"><span class="toc-number">1.6.11.3.</span> <span class="toc-text">3. 配置重定向操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BF%9D%E5%AD%98%E5%B9%B6%E9%83%A8%E7%BD%B2"><span class="toc-number">1.6.11.4.</span> <span class="toc-text">4. 保存并部署</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="toc-number">1.6.12.</span> <span class="toc-text">配置示例说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E9%AA%8C%E8%AF%81-1"><span class="toc-number">1.6.13.</span> <span class="toc-text">测试验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.6.14.</span> <span class="toc-text">常见错误及解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF-1%EF%BC%9A%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF"><span class="toc-number">1.6.14.1.</span> <span class="toc-text">错误 1：表达式语法错误</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF-2%EF%BC%9Aunknown-identifier"><span class="toc-number">1.6.14.2.</span> <span class="toc-text">错误 2：unknown identifier</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E9%85%8D%E7%BD%AE%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95"><span class="toc-number">1.7.</span> <span class="toc-text">完整配置检查清单</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95"><span class="toc-number">1.7.1.</span> <span class="toc-text">配置步骤检查清单</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SEO-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.8.</span> <span class="toc-text">SEO 最佳实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Google-Search-Console-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.8.1.</span> <span class="toc-text">Google Search Console 配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94"><span class="toc-number">1.9.</span> <span class="toc-text">重定向方案对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90%E6%96%B9%E6%A1%88"><span class="toc-number">1.9.1.</span> <span class="toc-text">推荐方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.10.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90"><span class="toc-number">1.11.</span> <span class="toc-text">相关资源</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/4a17b156.html" title="Hello World">Hello World</a><time datetime="2025-11-20T08:45:17.173Z" title="发表于 2025-11-20 16:45:17">2025-11-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/bed38e11.html" title="GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制">GitHub Pages 多域名绑定指南：突破 CNAME 单域名限制</a><time datetime="2025-11-20T02:00:00.000Z" title="发表于 2025-11-20 10:00:00">2025-11-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/79c3476.html" title="spalsh，单独使用（不使用scrapy框架），如何设置Proxy IP ">spalsh，单独使用（不使用scrapy框架），如何设置Proxy IP </a><time datetime="2022-10-13T05:36:37.000Z" title="发表于 2022-10-13 13:36:37">2022-10-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/9202ce96.html" title="selenium 使用代理的方法汇总">selenium 使用代理的方法汇总</a><time datetime="2019-10-30T05:59:06.000Z" title="发表于 2019-10-30 13:59:06">2019-10-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/p/603a0fc5.html" title="项目管理碎碎念：自动生成周报">项目管理碎碎念：自动生成周报</a><time datetime="2019-08-21T09:17:12.000Z" title="发表于 2019-08-21 17:17:12">2019-08-21</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Clark Lu</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><div class="js-pjax"></div><script async data-pjax src="/"></script></div></body></html>